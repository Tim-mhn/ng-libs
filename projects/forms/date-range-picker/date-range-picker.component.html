<div class="flex flex-col">
  <div
    class="flex items-center border border-gray-300 shadow-sm rounded-lg text-sm font-medium"
    [ngClass]="{
      'py-2 px-4 h-9': size === 'xs',
      'py-3 px-5 h-11': size === 'sm',
      'py-3 px-6 h-12': size === 'md',
      'py-4 px-8 h-15': size === 'lg',
      'border-gray-300 text-gray-600': !(hasError$ | async),
      'ring-4 ring-offset-0 ring-blue-100': isActive,
      'border-blue-300': !(hasError$ | async) && isActive,
      'ring-red-100 border-red-500 text-red-500': (hasError$ | async)
    }"
    timDatePickerTrigger
    [timCalendarDropdown]="calendarDropdown"
    (click)="onFocused()"
  >
    <img [src]="CALENDAR_GRAY" class="h-5 mr-2" />
    {{ label }}
  </div>
</div>

<tim-calendar-dropdown
  #calendarDropdown
  [initialDateRange]="dateRange"
  (dateRangeChanged)="onDateRangeUpdated($event)"
  (calendarClosed)="onCalendarClosed()"
></tim-calendar-dropdown>
